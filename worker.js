importScripts("/pxt-sample/typescript.js","/pxt-sample/fuse.min.js","/pxt-sample/pxtlib.js","/pxt-sample/pxtcompiler.js");var pm=postMessage;"undefined"==typeof atob&&(pxtc.decodeBase64=function(r){function e(r){return r<=25?r+65:r<=51?r+71:r<=61?r-4:62==r?43:47}for(var t=new Array,i=0,o=0,a=0;a<r.length;a++){var n=r.charCodeAt(a);if(n>255)return;0==i?(t.push(String.fromCharCode(e(n>>2))),i=1,o=(3&n)<<4):1==i?(t.push(String.fromCharCode(e(o|n>>4))),i=2,o=(15&n)<<2):2==i&&(t.push(String.fromCharCode(e(o|n>>6),e(63&n))),i=0,o=0)}return 1==i?t.push(String.fromCharCode(e(o),61,61)):2==i&&t.push(String.fromCharCode(e(o),61)),t.join("")}),Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice,writable:!0,enumerable:!0}),Uint8Array.prototype.fill||Object.defineProperty(Uint8Array.prototype,"fill",{writable:!0,enumerable:!0,value:function(r){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),t=e.length>>>0,i=arguments[1]>>0,o=i<0?Math.max(t+i,0):Math.min(i,t),a=arguments[2],n=void 0===a?t:a>>0,p=n<0?Math.max(t+n,0):Math.min(n,t);o<p;)e[o]=r,o++;return e}}),onmessage=function(r){var e=pxtc.service.performOperation(r.data.op,r.data.arg);pm({op:r.data.op,id:r.data.id,result:JSON.parse(JSON.stringify(e))})},pm({id:"ready"});